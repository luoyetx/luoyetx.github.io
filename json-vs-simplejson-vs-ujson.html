<!DOCTYPE html>
<html lang="english">
<head>
    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="https://luoyetx.github.io/theme/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://luoyetx.github.io/theme/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="https://luoyetx.github.io/theme/css/main.css" />


    <link href="https://luoyetx.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="zhangjie Atom">



    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />


    <meta name="author" content="" />
    <meta name="description" content="" />
    <title>zhangjiezhangjie - json vs simplejson vs ujson</title>

</head>

<body id="index" class="home">
<section id="content" class="body">
  <header>
    <h2 class="entry-title">
      <a href="https://luoyetx.github.io/json-vs-simplejson-vs-ujson.html" rel="bookmark"
         title="Permalink to json vs simplejson vs ujson">json vs simplejson vs ujson</a></h2>
 
  </header>
  <footer class="post-info">
    <time class="published" datetime="2015-01-03T00:00:00+08:00">
      Sat 03 January 2015
    </time>
    <div class="category">
        Category: <a href="https://luoyetx.github.io/category/translation.html">Translation</a>
    </div>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>本文为原创翻译，原文地址在<a href="https://medium.com/@jyotiska/json-vs-simplejson-vs-ujson-a115a63a9e26">这里</a></p>
<p>JSON已经毫无争议地成为现在最常用的数据交换格式。Python中有两个常用的库来处理json数据，一个是Python标准库中自带的<code>json</code>，另一个则是<code>simplejson</code>，这个库是纯Python实现，并做了相应的优化。这篇博文的目的是向大家介绍<a href="https://github.com/esnme/ultrajson"><code>ultrajson</code></a>，也叫做<code>Ultra JSON</code>，这个库使用C实现的，执行速度非常快。</p>
<p>我们对三个常用的json操作做了性能测评，这三个操作是<strong>load</strong>，<strong>loads</strong>，<strong>dumps</strong>。我们创建一个字典类型，包含_id_，<em>name</em>，<em>address_这三个键。再利用<strong>json.dumps()</strong>将字典数据编码并保存到一个文件中。然后我们分别用<strong>json.loads()</strong>和<strong>json.load()</strong>从文件中加载数据。通过_10000</em>，<em>50000</em>，<em>100000</em>，<em>200000</em>，_1000000_个这样的字典数据，我们来测试三个库在这些操作上的时间消耗。</p>
<h3>利用dumps操作一个一个保存数据</h3>
<p>利用<strong>json.dumps()</strong>操作一个一个地保存字典数据，我们得到了如下数据。</p>
<p><img alt="json-1" src="https://luoyetx.github.io/images/2015/json-1.png"></p>
<p>我们发现<code>json</code>的性能比<code>simplejson</code>要高，但是<code>ultrajson</code>的速度将近是<code>json</code>的4倍。</p>
<h3>利用dumps操作直接保存所有数据</h3>
<p>在这个测试中，我们把所有字典数据放在一个list列表中，并用<strong>json.dumps()</strong>保存这个list列表。</p>
<p><img alt="json-2" src="https://luoyetx.github.io/images/2015/json-2.png"></p>
<p><code>simplejson</code>和<code>json</code>表现得差不多，但是<code>ultrajson</code>依旧比它们快1.5倍。接下来我们看看这三个库在load和loads操作上的对比。</p>
<h3>利用load操作加载数据</h3>
<p>我们用load操作来加载数据，这个数据是一个列表，里面放着字典数据。</p>
<p><img alt="json-3" src="https://luoyetx.github.io/images/2015/json-3.png"></p>
<p>我们惊奇地发现<code>simplejson</code>比另外两个库表现得都要好。<code>ultrajson</code>的性能很接近<code>simplejson</code>，而它们的速度都将近是<code>json</code>的4倍。</p>
<h3>利用loads操作加载数据</h3>
<p>这个测试中，我们利用<code>json.loads()</code>从文件中加载数据。</p>
<p><img alt="json-4" src="https://luoyetx.github.io/images/2015/json-4.png"></p>
<p><code>ultrajson</code>又一次打败了其他两个库，比<code>json</code>快将近6倍，比<code>simplejson</code>快3倍。</p>
<p>做完这些测试之后，结果很明显。在任何情况下都应该使用<code>simplejson</code>来替代<code>json</code>，而且<code>simplejson</code>这个库本身受到很好的维护。如果你追求速度，那么可以使用<code>ultrajson</code>，但是你要记住，这个库在不是序列化数据的情况下表现并不好。当然，如果你只是处理文本数据的话，那就没什么可以担忧的了。</p>
  </div><!-- /.entry-content -->
</section>
    <footer class="footer">
        <div class="text-center">
            <small class="copyright">Designed with <i class="fa fa-heart"></i> by <a href="http://themes.3rdwavemedia.com" target="_blank" rel="nofollow">Xiaoying Riley</a> for developers</small>
            <br>
            <small class="copyright">Ported to Pelican with <i class="fa fa-heart"></i> by <a href="http://themes.3rdwavemedia.com" target="_blank" rel="nofollow">Suhaib Khan</a></small>
        </div><!--//container-->
    </footer><!--//footer-->
    <script type="text/javascript" src="https://luoyetx.github.io/theme/js/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="https://luoyetx.github.io/theme/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://luoyetx.github.io/theme/js/main.js"></script>
</body>
</html>